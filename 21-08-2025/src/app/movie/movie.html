<div style="margin: 20px; max-width: 720px;">
  <h2>Movie CRUD</h2>

  <!-- Form -->
  <form (ngSubmit)="onSubmit()" #f="ngForm" style="display: grid; gap: 8px; grid-template-columns: 1fr 2fr;">
    <label for="movieId">Movie ID</label>
    <input id="movieId" name="movieId" type="number" required [(ngModel)]="form.movieId" />

    <label for="movieName">Movie Name</label>
    <input id="movieName" name="movieName" type="text" required [(ngModel)]="form.movieName" />

    <label for="language">Language</label>
    <input id="language" name="language" type="text" required [(ngModel)]="form.language" />

    <label for="imdbRating">IMDB Rating</label>
    <input id="imdbRating" name="imdbRating" type="number" step="0.1" min="0" max="10" required [(ngModel)]="form.imdbRating" />

    <div></div>
    <div style="display:flex; gap: 8px;">
      <button type="submit">{{ editing ? 'Update' : 'Add' }} Movie</button>
      @if (editing) {
        <button type="button" (click)="cancel()">Cancel</button>
      }
    </div>
  </form>

  <hr />

  <!-- List -->
  <h3>Movies List</h3>
  <table border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Language</th>
        <th>IMDB</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (m of movies(); track m.movieId) {
        <tr>
          <td>{{ m.movieId }}</td>
          <td>{{ m.movieName }}</td>
          <td>{{ m.language }}</td>
          <td>{{ m.imdbRating }}</td>
          <td style="display:flex; gap:6px;">
            <button type="button" (click)="edit(m)">Edit</button>
            <button type="button" (click)="delete(m.movieId)">Delete</button>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>

